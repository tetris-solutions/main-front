<!doctype html>
<html>
<head>
  <meta charset='utf-8' />
  <title>@tetris/main-front 0.0.0 | Documentation</title>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' type='text/css' rel='stylesheet' />
  <link href='assets/style.css' type='text/css' rel='stylesheet' />
  <link href='assets/github.css' type='text/css' rel='stylesheet' />
</head>
<body class='documentation'>
  <div class='container'>
    <div class='clearfix md-mxn2'>
      <div class='fixed md-show fix-3 overflow-auto max-height-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'>@tetris/main-front</h3>
          <div class='mb1'><code>0.0.0</code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block field'
            type='text' />
          <div id='toc'>
              <a
                href='#activateRoute'
                class='block bold'>
                activateRoute
              </a>
              <a
                href='#authMiddleware'
                class='block bold'>
                authMiddleware
              </a>
              <a
                href='#changeLanguage'
                class='block bold'>
                changeLanguage
              </a>
              <a
                href='#createCompany'
                class='block bold'>
                createCompany
              </a>
              <a
                href='#createCompanyAction'
                class='block bold'>
                createCompanyAction
              </a>
              <a
                href='#fetchCallback'
                class='block bold'>
                fetchCallback
              </a>
              <a
                href='#getApiFetchConfig'
                class='block bold'>
                getApiFetchConfig
              </a>
              <a
                href='#getUserByToken'
                class='block bold'>
                getUserByToken
              </a>
              <a
                href='#initializeTreeMiddleware'
                class='block bold'>
                initializeTreeMiddleware
              </a>
              <a
                href='#loadCompany'
                class='block bold'>
                loadCompany
              </a>
              <a
                href='#loadCompanyAction'
                class='block bold'>
                loadCompanyAction
              </a>
              <a
                href='#loadCompanyActionRouterAdaptor'
                class='block bold'>
                loadCompanyActionRouterAdaptor
              </a>
              <a
                href='#loadCompanyActionServerAdaptor'
                class='block bold'>
                loadCompanyActionServerAdaptor
              </a>
              <a
                href='#loadPermissions'
                class='block bold'>
                loadPermissions
              </a>
              <a
                href='#loadPermissionsAction'
                class='block bold'>
                loadPermissionsAction
              </a>
              <a
                href='#loadPermissionsActionRouterAdaptor'
                class='block bold'>
                loadPermissionsActionRouterAdaptor
              </a>
              <a
                href='#loadPermissionsActionServerAdaptor'
                class='block bold'>
                loadPermissionsActionServerAdaptor
              </a>
              <a
                href='#loadUserCompanies'
                class='block bold'>
                loadUserCompanies
              </a>
              <a
                href='#loadUserCompaniesAction'
                class='block bold'>
                loadUserCompaniesAction
              </a>
              <a
                href='#loadUserCompaniesActionRouterAdaptor'
                class='block bold'>
                loadUserCompaniesActionRouterAdaptor
              </a>
              <a
                href='#loadUserCompaniesActionServerAdaptor'
                class='block bold'>
                loadUserCompaniesActionServerAdaptor
              </a>
              <a
                href='#localeMiddleware'
                class='block bold'>
                localeMiddleware
              </a>
              <a
                href='#login'
                class='block bold'>
                login
              </a>
              <a
                href='#loginAction'
                class='block bold'>
                loginAction
              </a>
              <a
                href='#logoutAction'
                class='block bold'>
                logoutAction
              </a>
              <a
                href='#requireAuth'
                class='block bold'>
                requireAuth
              </a>
                <a
                  href='#requireAuth.onEnter'
                  class='regular block'>
                  .onEnter
                </a>
              <a
                href='#performLoadAction'
                class='block bold'>
                performLoadAction
              </a>
                <a
                  href='#performLoadAction.onEnter'
                  class='regular block'>
                  .onEnter
                </a>
              <a
                href='#passTokenAhead'
                class='block bold'>
                passTokenAhead
              </a>
              <a
                href='#performActionsMiddleware'
                class='block bold'>
                performActionsMiddleware
              </a>
                <a
                  href='#performActionsMiddleware.resolveActions'
                  class='regular block'>
                  .resolveActions
                </a>
              <a
                href='#protectedRouteMiddleware'
                class='block bold'>
                protectedRouteMiddleware
              </a>
              <a
                href='#saveResponseTokenAsCookie'
                class='block bold'>
                saveResponseTokenAsCookie
              </a>
              <a
                href='#saveTokenAsCookie'
                class='block bold'>
                saveTokenAsCookie
              </a>
              <a
                href='#serverRenderRoute'
                class='block bold'>
                serverRenderRoute
              </a>
              <a
                href='#signup'
                class='block bold'>
                signup
              </a>
              <a
                href='#signupAction'
                class='block bold'>
                signupAction
              </a>
              <a
                href='#updateMe'
                class='block bold'>
                updateMe
              </a>
              <a
                href='#updateMeAction'
                class='block bold'>
                updateMeAction
              </a>
              <a
                href='#updateRole'
                class='block bold'>
                updateRole
              </a>
              <a
                href='#updateRoleAction'
                class='block bold'>
                updateRoleAction
              </a>
              <a
                href='#validateUser'
                class='block bold'>
                validateUser
              </a>
          </div>
        </div>
      </div>
      <div class='fix-margin-3'>
        <div class='px2'>
<div class='py1'><section class='py2 clearfix'>
  <h2 id='activateRoute' class='mt0'>
    activateRoute<span class='gray'>(req, res)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/route-handlers/activate-route.js#L13-L27'><code>src/route-handlers/activate-route.js</code></a></p>
  
  
  
  
  
  <p>calls activate user api; reads token from the response; sends the token to the client; calls load user api; send user object to the client</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>req</strong>
          :
          <div class='force-inline'>
            <p>express request</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>res</strong>
          :
          <div class='force-inline'>
            <p>express response</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>a promise that resolves once the response has been sent</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='authMiddleware' class='mt0'>
    authMiddleware<span class='gray'>(req, res, next)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/middlewares/auth.js#L11-L36'><code>src/middlewares/auth.js</code></a></p>
  
  
  
  
  
  <p>express middleware that reads token from Authorization header and cookies, setting req.user</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>req</strong>
          :
          <div class='force-inline'>
            <p>express request</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>res</strong>
          :
          <div class='force-inline'>
            <p>express response</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>
 <strong>next</strong>
          :
          <div class='force-inline'>
            <p>next handler</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>promise that resolves once work is done</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='changeLanguage' class='mt0'>
    changeLanguage<span class='gray'>(tree, locale)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/actions/change-locale-action.js#L7-L15'><code>src/actions/change-locale-action.js</code></a></p>
  
  
  
  
  
  <p>changes language in the state tree</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li>Baobab
 <strong>tree</strong>
          :
          <div class='force-inline'>
            <p>state tree</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>locale</strong>
          :
          <div class='force-inline'>
            <p>new locale</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>
</code>
      
      <div class='force-inline'>
        
      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='createCompany' class='mt0'>
    createCompany<span class='gray'>(company, config)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/api/create-company.js#L10-L12'><code>src/api/create-company.js</code></a></p>
  
  
  
  
  
  <p>sends a POST request to the create company API</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>company</strong>
          :
          <div class='force-inline'>
            <p>new company object</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>config</strong>
          :
          <div class='force-inline'>
            <p>request config object</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
.<
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
>
</code>
      :
      <div class='force-inline'>
        <p>returns a promise that resolves to a object containing the new company id</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='createCompanyAction' class='mt0'>
    createCompanyAction<span class='gray'>(tree, company)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/actions/create-company-action.js#L11-L14'><code>src/actions/create-company-action.js</code></a></p>
  
  
  
  
  
  <p>creates a new company</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li>Baobab
 <strong>tree</strong>
          :
          <div class='force-inline'>
            <p>state tree</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>company</strong>
          :
          <div class='force-inline'>
            <p>new company object</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>resolves once the company is loaded</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='fetchCallback' class='mt0'>
    fetchCallback<span class='gray'>(fetchResponse)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/functions/pass-token-ahead.js#L18-L27'><code>src/functions/pass-token-ahead.js</code></a></p>
  
  
  
  
  
  <p>reads token from fetch Response headers</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5">Response</a>
 <strong>fetchResponse</strong>
          :
          <div class='force-inline'>
            <p>fetch response object</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5">Response</a>
</code>
      :
      <div class='force-inline'>
        <p>the same response object</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='getApiFetchConfig' class='mt0'>
    getApiFetchConfig<span class='gray'>(tree, [token])</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/functions/get-api-fetch-config.js#L10-L32'><code>src/functions/get-api-fetch-config.js</code></a></p>
  
  
  
  
  
  <p>loads auth token and user locale into fetch request configuration</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li>Baobab
 <strong>tree</strong>
          :
          <div class='force-inline'>
            <p>the application state tree</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
=
 <strong>token</strong>
          :
          <div class='force-inline'>
            <p>express request</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
</code>
      :
      <div class='force-inline'>
        <p>fetch request configuration</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='getUserByToken' class='mt0'>
    getUserByToken<span class='gray'>(token)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/api/get-user-by-token.js#L8-L12'><code>src/api/get-user-by-token.js</code></a></p>
  
  
  
  
  
  <p>load user from api</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>token</strong>
          :
          <div class='force-inline'>
            <p>auth token</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>promise that resolves to a fetch response</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='initializeTreeMiddleware' class='mt0'>
    initializeTreeMiddleware<span class='gray'>(req, res, next)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/middlewares/initialize-tree.js#L11-L17'><code>src/middlewares/initialize-tree.js</code></a></p>
  
  
  
  
  
  <p>writes a <code>Baobab</code> tree with the default state in <code>res.locals.tree</code></p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>req</strong>
          :
          <div class='force-inline'>
            <p>express request</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>res</strong>
          :
          <div class='force-inline'>
            <p>express response</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>
 <strong>next</strong>
          :
          <div class='force-inline'>
            <p>next handler</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>
</code>
      
      <div class='force-inline'>
        
      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='loadCompany' class='mt0'>
    loadCompany<span class='gray'>(id, config)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/api/load-company.js#L9-L11'><code>src/api/load-company.js</code></a></p>
  
  
  
  
  
  <p>call load company API</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
 <strong>id</strong>
          :
          <div class='force-inline'>
            <p>company id</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>config</strong>
          :
          <div class='force-inline'>
            <p>fetch request config</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
.<
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
>
</code>
      :
      <div class='force-inline'>
        <p>promise that resolves with requested company</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='loadCompanyAction' class='mt0'>
    loadCompanyAction<span class='gray'>(tree, id, [token])</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/actions/load-company-action.js#L12-L19'><code>src/actions/load-company-action.js</code></a></p>
  
  
  
  
  
  <p>loads a single company</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li>Baobab
 <strong>tree</strong>
          :
          <div class='force-inline'>
            <p>state tree</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
 <strong>id</strong>
          :
          <div class='force-inline'>
            <p>company id</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
=
 <strong>token</strong>
          :
          <div class='force-inline'>
            <p>optional auth token</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>promise that resolves once action is complete</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='loadCompanyActionRouterAdaptor' class='mt0'>
    loadCompanyActionRouterAdaptor<span class='gray'>(state, tree)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/actions/load-company-action.js#L37-L39'><code>src/actions/load-company-action.js</code></a></p>
  
  
  
  
  
  <p>adaptor to call <code>loadCompanyAction</code> as an <code>onEnter</code> hook</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>state</strong>
          :
          <div class='force-inline'>
            <p>history state</p>

          </div>
        </li>
        <li>Baobab
 <strong>tree</strong>
          :
          <div class='force-inline'>
            <p>state tree</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>promise action</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='loadCompanyActionServerAdaptor' class='mt0'>
    loadCompanyActionServerAdaptor<span class='gray'>(req, res)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/actions/load-company-action.js#L27-L29'><code>src/actions/load-company-action.js</code></a></p>
  
  
  
  
  
  <p>adaptor to call <code>loadCompanyAction</code> on the server side</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>req</strong>
          :
          <div class='force-inline'>
            <p>express request</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>res</strong>
          :
          <div class='force-inline'>
            <p>express response</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>action promise</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='loadPermissions' class='mt0'>
    loadPermissions<span class='gray'>(config)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/api/load-permissions.js#L8-L10'><code>src/api/load-permissions.js</code></a></p>
  
  
  
  
  
  <p>call load permissions API</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>config</strong>
          :
          <div class='force-inline'>
            <p>fetch request config</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
.<
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>
>
</code>
      :
      <div class='force-inline'>
        <p>promise that resolves with requested permissions</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='loadPermissionsAction' class='mt0'>
    loadPermissionsAction<span class='gray'>(tree, [token])</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/actions/load-permissions-action.js#L11-L18'><code>src/actions/load-permissions-action.js</code></a></p>
  
  
  
  
  
  <p>loads the list of permissions</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li>Baobab
 <strong>tree</strong>
          :
          <div class='force-inline'>
            <p>state tree</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
=
 <strong>token</strong>
          :
          <div class='force-inline'>
            <p>auth token</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>promise that resolves once action is complete</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='loadPermissionsActionRouterAdaptor' class='mt0'>
    loadPermissionsActionRouterAdaptor<span class='gray'>(state, tree)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/actions/load-permissions-action.js#L35-L37'><code>src/actions/load-permissions-action.js</code></a></p>
  
  
  
  
  
  <p>adaptor to call <code>loadPermissionsAction</code> as an <code>onEnter</code> hook</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>state</strong>
          :
          <div class='force-inline'>
            <p>history state</p>

          </div>
        </li>
        <li>Baobab
 <strong>tree</strong>
          :
          <div class='force-inline'>
            <p>state tree</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>promise action</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='loadPermissionsActionServerAdaptor' class='mt0'>
    loadPermissionsActionServerAdaptor<span class='gray'>(req, res)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/actions/load-permissions-action.js#L25-L27'><code>src/actions/load-permissions-action.js</code></a></p>
  
  
  
  
  
  <p>adaptor to call <code>loadPermissionsAction</code> on the server side</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>req</strong>
          :
          <div class='force-inline'>
            <p>express request</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>res</strong>
          :
          <div class='force-inline'>
            <p>express response</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>action promise</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='loadUserCompanies' class='mt0'>
    loadUserCompanies<span class='gray'>(config)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/api/load-user-companies.js#L8-L10'><code>src/api/load-user-companies.js</code></a></p>
  
  
  
  
  
  <p>loads list of companies users is associated to</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>config</strong>
          :
          <div class='force-inline'>
            <p>fetch config</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
.<
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>
>
</code>
      :
      <div class='force-inline'>
        <p>promise that resolves to a list of companies</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='loadUserCompaniesAction' class='mt0'>
    loadUserCompaniesAction<span class='gray'>(tree, [token])</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/actions/load-user-companies-action.js#L11-L18'><code>src/actions/load-user-companies-action.js</code></a></p>
  
  
  
  
  
  <p>loads a list of user companies and saving it into the passed tree as <code>tree.user.companies</code></p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li>Baobab
 <strong>tree</strong>
          :
          <div class='force-inline'>
            <p>state tree</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
=
 <strong>token</strong>
          :
          <div class='force-inline'>
            <p>auth token</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>promise that resolves once action is complete</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='loadUserCompaniesActionRouterAdaptor' class='mt0'>
    loadUserCompaniesActionRouterAdaptor<span class='gray'>(state, tree)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/actions/load-user-companies-action.js#L36-L38'><code>src/actions/load-user-companies-action.js</code></a></p>
  
  
  
  
  
  <p>adaptor to call <code>loadUserCompaniesAction</code> as an <code>onEnter</code> hook</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>state</strong>
          :
          <div class='force-inline'>
            <p>history state</p>

          </div>
        </li>
        <li>Baobab
 <strong>tree</strong>
          :
          <div class='force-inline'>
            <p>state tree</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>promise action</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='loadUserCompaniesActionServerAdaptor' class='mt0'>
    loadUserCompaniesActionServerAdaptor<span class='gray'>(req, res)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/actions/load-user-companies-action.js#L26-L28'><code>src/actions/load-user-companies-action.js</code></a></p>
  
  
  
  
  
  <p>adaptor to call <code>loadUserCompaniesAction</code> on the server side</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>req</strong>
          :
          <div class='force-inline'>
            <p>express request</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>res</strong>
          :
          <div class='force-inline'>
            <p>express response</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>action promise</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='localeMiddleware' class='mt0'>
    localeMiddleware<span class='gray'>(req, res, next)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/middlewares/locale.js#L13-L19'><code>src/middlewares/locale.js</code></a></p>
  
  
  
  
  
  <p>reads locale headers and save it to <code>req.locale</code></p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>req</strong>
          :
          <div class='force-inline'>
            <p>express request</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>res</strong>
          :
          <div class='force-inline'>
            <p>express response</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>
 <strong>next</strong>
          :
          <div class='force-inline'>
            <p>next handler</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>
</code>
      
      <div class='force-inline'>
        
      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='login' class='mt0'>
    login<span class='gray'>(email, password, config)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/api/login.js#L12-L21'><code>src/api/login.js</code></a></p>
  
  
  
  
  
  <p>fires a call to login api returning a promise</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>email</strong>
          :
          <div class='force-inline'>
            <p>user email</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>password</strong>
          :
          <div class='force-inline'>
            <p>user password</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>config</strong>
          :
          <div class='force-inline'>
            <p>fetch config</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>promise that resolves to a fetch response</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='loginAction' class='mt0'>
    loginAction<span class='gray'>(tree, email, password)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/actions/login-action.js#L12-L19'><code>src/actions/login-action.js</code></a></p>
  
  
  
  
  
  <p>fires request to login API and save user object in the state tree on success</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li>Baobab
 <strong>tree</strong>
          :
          <div class='force-inline'>
            <p>state tree</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>email</strong>
          :
          <div class='force-inline'>
            <p>user email</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>password</strong>
          :
          <div class='force-inline'>
            <p>user password</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>promise that resolves once action is complete</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='logoutAction' class='mt0'>
    logoutAction<span class='gray'>(tree)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/actions/logout-action.js#L9-L20'><code>src/actions/logout-action.js</code></a></p>
  
  
  
  
  
  <p>logout the user by removing the user object from the state tree and removing the token from cookies</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li>Baobab
 <strong>tree</strong>
          :
          <div class='force-inline'>
            <p>state tree</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>
</code>
      
      <div class='force-inline'>
        
      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='requireAuth' class='mt0'>
    requireAuth<span class='gray'>(tree)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/functions/require-auth.js#L6-L24'><code>src/functions/require-auth.js</code></a></p>
  
  
  
  
  
  <p>creates a react-router onEnter hook that checks if user is logged in before permitting access to a give route</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li>Baobab
 <strong>tree</strong>
          :
          <div class='force-inline'>
            <p>state tree</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code>onEnter
</code>
      :
      <div class='force-inline'>
        <p>onEnter hook</p>

      </div>
      <h4>Static members</h4>
        <div class='collapsible' id='requireAuth.onEnter'>
          <a href='#requireAuth.onEnter'>
            <code>
              .onEnter<span class='gray'>(nextState, replace)</span>
            </code>
            <div class='force-inline'>
              <p>auth onEnter hook</p>

            </div>
          </a>
          <div class='collapser border px2 m2'>
<section class='py2 clearfix'>
  <h2 id='requireAuth.onEnter' class='mt0'>
    onEnter<span class='gray'>(nextState, replace)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/functions/require-auth.js#L13-L22'><code>src/functions/require-auth.js</code></a></p>
  
  
  
  
  
  <p>auth onEnter hook</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>nextState</strong>
          :
          <div class='force-inline'>
            <p>next location state</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>
 <strong>replace</strong>
          :
          <div class='force-inline'>
            <p>replace location</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>
</code>
      
      <div class='force-inline'>
        
      </div>
</section>
          </div>
        </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='performLoadAction' class='mt0'>
    performLoadAction<span class='gray'>(tree, action)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/functions/perform-load-action.js#L7-L22'><code>src/functions/perform-load-action.js</code></a></p>
  
  
  
  
  
  <p>creates an onEnter hook that performs a load action before rendering the route</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li>Baobab
 <strong>tree</strong>
          :
          <div class='force-inline'>
            <p>state tree</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>
 <strong>action</strong>
          :
          <div class='force-inline'>
            <p>load action that will be called</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code>onEnter
</code>
      :
      <div class='force-inline'>
        <p>onEnter hook</p>

      </div>
      <h4>Static members</h4>
        <div class='collapsible' id='performLoadAction.onEnter'>
          <a href='#performLoadAction.onEnter'>
            <code>
              .onEnter<span class='gray'>(nextState, replace, callback)</span>
            </code>
            <div class='force-inline'>
              <p>call action before entering</p>

            </div>
          </a>
          <div class='collapser border px2 m2'>
<section class='py2 clearfix'>
  <h2 id='performLoadAction.onEnter' class='mt0'>
    onEnter<span class='gray'>(nextState, replace, callback)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/functions/perform-load-action.js#L15-L20'><code>src/functions/perform-load-action.js</code></a></p>
  
  
  
  
  
  <p>call action before entering</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>nextState</strong>
          :
          <div class='force-inline'>
            <p>next location state</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>
 <strong>replace</strong>
          :
          <div class='force-inline'>
            <p>replace location</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>
 <strong>callback</strong>
          :
          <div class='force-inline'>
            <p>onEnter callback</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>
</code>
      
      <div class='force-inline'>
        
      </div>
</section>
          </div>
        </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='passTokenAhead' class='mt0'>
    passTokenAhead<span class='gray'>(req, res)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/functions/pass-token-ahead.js#L9-L28'><code>src/functions/pass-token-ahead.js</code></a></p>
  
  
  
  
  
  <p>reads auth token from server side fetch Response and forwards it to the client using express response api</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>req</strong>
          :
          <div class='force-inline'>
            <p>express request</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>res</strong>
          :
          <div class='force-inline'>
            <p>express response</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>
</code>
      :
      <div class='force-inline'>
        <p>fetchCallback</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='performActionsMiddleware' class='mt0'>
    performActionsMiddleware<span class='gray'>(actions)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/middlewares/perform-actions.js#L6-L20'><code>src/middlewares/perform-actions.js</code></a></p>
  
  
  
  
  
  <p>creates a middleware that resolves a number of actions before going on</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li>...
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>
 <strong>actions</strong>
          :
          <div class='force-inline'>
            <p>actions to be performed before next is called</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code>resolveActions
</code>
      :
      <div class='force-inline'>
        <p>action performer middleware</p>

      </div>
      <h4>Static members</h4>
        <div class='collapsible' id='performActionsMiddleware.resolveActions'>
          <a href='#performActionsMiddleware.resolveActions'>
            <code>
              .resolveActions<span class='gray'>(req, res, next)</span>
            </code>
            <div class='force-inline'>
              <p>resolves all passed actions</p>

            </div>
          </a>
          <div class='collapser border px2 m2'>
<section class='py2 clearfix'>
  <h2 id='performActionsMiddleware.resolveActions' class='mt0'>
    resolveActions<span class='gray'>(req, res, next)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/middlewares/perform-actions.js#L14-L17'><code>src/middlewares/perform-actions.js</code></a></p>
  
  
  
  
  
  <p>resolves all passed actions</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>req</strong>
          :
          <div class='force-inline'>
            <p>express request</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>res</strong>
          :
          <div class='force-inline'>
            <p>express response</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>
 <strong>next</strong>
          :
          <div class='force-inline'>
            <p>next handler</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
.<
T
>
</code>
      :
      <div class='force-inline'>
        <p>promise that resolves once all actions have been performed</p>

      </div>
</section>
          </div>
        </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='protectedRouteMiddleware' class='mt0'>
    protectedRouteMiddleware<span class='gray'>(req, res, next)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/middlewares/protected.js#L8-L14'><code>src/middlewares/protected.js</code></a></p>
  
  
  
  
  
  <p>redirects to login in if no user is logged in</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>req</strong>
          :
          <div class='force-inline'>
            <p>express request</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>res</strong>
          :
          <div class='force-inline'>
            <p>express response</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>
 <strong>next</strong>
          :
          <div class='force-inline'>
            <p>next handler</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>
</code>
      
      <div class='force-inline'>
        
      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='saveResponseTokenAsCookie' class='mt0'>
    saveResponseTokenAsCookie<span class='gray'>(response)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/functions/save-token-as-cookie.js#L25-L30'><code>src/functions/save-token-as-cookie.js</code></a></p>
  
  
  
  
  
  <p>reads token from fetch Response and stores it as a cookie</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5">Response</a>
 <strong>response</strong>
          :
          <div class='force-inline'>
            <p>fetch Response for a api call</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5">Response</a>
</code>
      :
      <div class='force-inline'>
        <p>the same response</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='saveTokenAsCookie' class='mt0'>
    saveTokenAsCookie<span class='gray'>(token)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/functions/save-token-as-cookie.js#L8-L17'><code>src/functions/save-token-as-cookie.js</code></a></p>
  
  
  
  
  
  <p>persist token as a cookie</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>token</strong>
          :
          <div class='force-inline'>
            <p>auth token</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>
</code>
      
      <div class='force-inline'>
        
      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='serverRenderRoute' class='mt0'>
    serverRenderRoute<span class='gray'>(req, res, [location])</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/functions/server-render-route.js#L20-L50'><code>src/functions/server-render-route.js</code></a></p>
  
  
  
  
  
  <p>reads from <code>res.locals</code> and <code>req</code> to generate the React component tree which is then sent to the client as HTML</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>req</strong>
          :
          <div class='force-inline'>
            <p>express request</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>res</strong>
          :
          <div class='force-inline'>
            <p>express response</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
=
 <strong>location</strong>
          :
          <div class='force-inline'>
            <p>predefined location</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>
</code>
      
      <div class='force-inline'>
        
      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='signup' class='mt0'>
    signup<span class='gray'>(user, config)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/api/signup.js#L11-L15'><code>src/api/signup.js</code></a></p>
  
  
  
  
  
  <p>validate user then send a POST request to the signup user api</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>user</strong>
          :
          <div class='force-inline'>
            <p>new user object</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>config</strong>
          :
          <div class='force-inline'>
            <p>request config object</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>promise that resolves once action is complete</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='signupAction' class='mt0'>
    signupAction<span class='gray'>(tree, user)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/actions/signup-action.js#L10-L12'><code>src/actions/signup-action.js</code></a></p>
  
  
  
  
  
  <p>makes a call to the signup user api</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li>Baobab
 <strong>tree</strong>
          :
          <div class='force-inline'>
            <p>state tree</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>user</strong>
          :
          <div class='force-inline'>
            <p>user object</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>promise that resolves once action is complete</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='updateMe' class='mt0'>
    updateMe<span class='gray'>(user, config)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/api/update-me.js#L11-L15'><code>src/api/update-me.js</code></a></p>
  
  
  
  
  
  <p>validate user then send a PUT request to the update user api</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>user</strong>
          :
          <div class='force-inline'>
            <p>object containing changed user properties</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>config</strong>
          :
          <div class='force-inline'>
            <p>request config object</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>promise that resolves once action is complete</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='updateMeAction' class='mt0'>
    updateMeAction<span class='gray'>(tree, user)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/actions/update-me-action.js#L11-L18'><code>src/actions/update-me-action.js</code></a></p>
  
  
  
  
  
  <p>fires a request to the update user api</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li>Baobab
 <strong>tree</strong>
          :
          <div class='force-inline'>
            <p>state tree</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>user</strong>
          :
          <div class='force-inline'>
            <p>new user object</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>promise that resolves once action is complete</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='updateRole' class='mt0'>
    updateRole<span class='gray'>(id, name, permissions, config)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/api/update-role.js#L12-L19'><code>src/api/update-role.js</code></a></p>
  
  
  
  
  
  <p>fires a PUT request to the update role API</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
 <strong>id</strong>
          :
          <div class='force-inline'>
            <p>role id</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
 <strong>name</strong>
          :
          <div class='force-inline'>
            <p>new role name</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>
.<
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
>
 <strong>permissions</strong>
          :
          <div class='force-inline'>
            <p>update list of permissions</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>config</strong>
          :
          <div class='force-inline'>
            <p>request config</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>a promise that resolves once API call is complete</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='updateRoleAction' class='mt0'>
    updateRoleAction<span class='gray'>(tree, id, name, permissions)</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/actions/update-role-action.js#L13-L16'><code>src/actions/update-role-action.js</code></a></p>
  
  
  
  
  
  <p>calls the update role api</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li>Baobab
 <strong>tree</strong>
          :
          <div class='force-inline'>
            <p>state tree</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
 <strong>id</strong>
          :
          <div class='force-inline'>
            <p>role id</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
 <strong>name</strong>
          :
          <div class='force-inline'>
            <p>new role name</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>
.<
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>
>
 <strong>permissions</strong>
          :
          <div class='force-inline'>
            <p>updated list of permissions</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>promise that resolves once action is complete</p>

      </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='validateUser' class='mt0'>
    validateUser<span class='gray'>(user, [requiresPassword])</span>
  </h2>
    <p><a href='https://github.com/tetris-solutions/main-front/blob/61eda761d5f125278ed27388883e2979dd046dae/src/functions/validate-user.js#L11-L27'><code>src/functions/validate-user.js</code></a></p>
  
  
  
  
  
  <p>performs basic user validation</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
 <strong>user</strong>
          :
          <div class='force-inline'>
            <p>user object</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>
=
 <strong>requiresPassword</strong>
            (default <code>true</code>)
          :
          <div class='force-inline'>
            <p>is password required for this case?</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>
</code>
      :
      <div class='force-inline'>
        <p>returns a promise that resolves if the user is valid and rejects otherwise</p>

      </div>
</section>
</div>
        </div>
      </div>
    </div>
  </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
